<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Umfrage erstellen | Circumspectis</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>

    <header class="header-bar">Circumspectis</header>

    <div class="container">
        <h2>Neue Umfrage erstellen</h2>

        <form method="POST" action="/create">
            <label for="title">Titel der Umfrage</label>
            <input type="text" name="title" id="title" required class="input-field">

            <h3>Fragen</h3>
            <div id="questions-container">
                <div class="question-box">
                    <input type="text" name="questions[]" required class="input-field">
                    <button type="button" class="remove-btn" onclick="removeQuestion(this)">Frage löschen</button>
                </div>
            </div>

            <div class="button-container">
                <button type="button" class="button" onclick="addQuestion()">Frage hinzufügen</button>
                <button type="submit" class="button">Umfrage erstellen</button>
            </div>
        </form>
    </div>

    <script>
        function addQuestion() {
            let container = document.getElementById("questions-container");

            let newQuestionDiv = document.createElement("div");
            newQuestionDiv.classList.add("question-box");

            let newInput = document.createElement("input");
            newInput.type = "text";
            newInput.name = "questions[]";
            newInput.required = true;
            newInput.classList.add("input-field");

            let removeButton = document.createElement("button");
            removeButton.type = "button";
            removeButton.classList.add("remove-btn");
            removeButton.textContent = "Frage löschen";
            removeButton.onclick = function () {
                removeQuestion(removeButton);
            };

            newQuestionDiv.appendChild(newInput);
            newQuestionDiv.appendChild(removeButton);
            container.appendChild(newQuestionDiv);
        }

        function removeQuestion(button) {
            button.parentElement.remove();
        }
    </script>

</body>
</html>

